<div class="page-header">
  <h3 class="page-title">
    Categories
  </h3>
</div>
<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">

	    <div class="form-group" (click) = "filter=false">
	        <input type="text" class="form-control form-control-lg" placeholder="search" aria-label="Recipient's username"  (keyup.enter)="search()" name = "searchTerm" [(ngModel)] = "searchTerm">
	    </div>

	   	<button type="button" class="btn btn-gradient-primary btn-icon-text" (click)="create=!create;filter=false;createModal(createModalContent)">
	        create
	    </button>

	    <div role="alert" [ngClass]="{'alert  mt-3 alert-success' : notificationType == 1,'alert  mt-3 alert-warning' : notificationType == 2,'alert  mt-3 alert-danger' : notificationType == 3}" *ngIf="notificationType > 0">
          {{notification}}
      </div>


	    <ng-template #createModalContent let-modal class="modal fade" id="exampleModal-2" aria-labelledby="exampleModalLabel-2">
          <div class="modal-content">
  	        <form class="forms-sample m-2">
		          <div class="form-group">
		            <label for="exampleInputUsername1"><b>Name</b></label>
		            <input type="text" class="form-control" id="exampleInputUsername1" placeholder="name" name="createName" [(ngModel)] = "createName">
		          </div>

		          <div class="form-group">
		            <label for="exampleTextarea1"><b>Description</b></label>
		            <textarea class="form-control" id="exampleTextarea1" rows="4" name = "createDescription" [(ngModel)] = "createDescription"></textarea>
		          </div>
         
	          <button type="submit" class="btn btn-gradient-dark btn-fw mr-2 btn-icon-text" data-dismiss="modal" (click)="saveCategory();modal.close()">
          		<i class="mdi mdi-content-save btn-icon-prepend"></i>
	          	Save
	          </button>
	          <button class="btn btn-light" data-dismiss="modal" (click)="modal.close()">Cancel</button>
	        </form>	
          </div>
        </ng-template>      

					<div class="row mt-5">
					  <div class="col-md-3 grid-margin stretch-card p-1 category-card" *ngFor="let cat of show" (click)="editModal(editModalContent,cat.categoryId,cat.name,cat.description)">
					  	<div class="card-body bg-success rounded p-0">
					        <p class="mt-3 ml-3"><b>Name</b>		  			
					        	<button type="button" class="close float-right mr-3 "aria-label="Close" (click) = "remove($event,cat.categoryId)">
									  	<span aria-hidden="true">&times;</span>
										</button>
									</p>
					        <p class="card-description ml-3 mr-3">{{cat.name}}</p>
					       	<p class="ml-3 mr-3"><b>Description</b></p>
					        <p class="card-description ml-3 mr-3">{{cat.description}}</p>
					    </div>

							<ng-template #editModalContent let-modal class="modal fade" id="exampleModal-2" aria-labelledby="exampleModalLabel-2">
				          <div class="modal-content">
				  	        <form class="forms-sample m-2">
						          <div class="form-group">
						            <label for="exampleInputUsername1"><b>Name</b></label>
						            <input type="text" class="form-control" id="exampleInputUsername1" placeholder="name" name="editName" [(ngModel)] = "editName">
						          </div>

						          <div class="form-group">
						            <label for="exampleTextarea1"><b>Description</b></label>
						            <textarea class="form-control" id="exampleTextarea1" rows="4" name = "editDescription" [(ngModel)] = "editDescription">{{editDescription}}</textarea>
						          </div>
				         
					          <button type="submit" class="btn btn-gradient-dark btn-fw mr-2 btn-icon-text" data-dismiss="modal" (click)="editCategory();modal.close()">
				          		<i class="mdi mdi-content-save btn-icon-prepend"></i>
					          	Save
					          </button>
					          <button class="btn btn-light" data-dismiss="modal" (click)="modal.close()">Cancel</button>
					        </form>	
				          </div>
				        </ng-template>	


					  </div>
					</div>

      </div>
    </div>
  </div>	
</div>