<div class="page-header">
  <h3 class="page-title">
    Skills
  </h3>
</div>
<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">

	    <div class="form-group" (click) = "filter=false">
	        <input type="text" class="form-control form-control-lg" placeholder="search" aria-label="Recipient's username" (keyup.enter)="search()" name = "searchTerm" [(ngModel)] = "searchTerm">
	    </div>

	    <button type="button" class="btn btn-gradient-primary btn-icon-text" (click)="filter=!filter;">
	       <i class="mdi mdi-filter btn-icon-prepend"></i>
	        filter
	    </button>

	   	<button type="button" class="btn btn-gradient-primary btn-icon-text" (click)="createModal(createModalContent)">
	        create
	    </button>






      <div role="alert" [ngClass]="{'alert  mt-3 alert-success' : notificationType == 0,'alert  mt-3 alert-warning' : notificationType == 2,'alert  mt-3 alert-danger' : notificationType == 3}" *ngIf="notificationType > 0">
          {{notification}}
      </div> 

	    <div class = "border border-secondary rounded mt-5 p-4 " *ngIf="filter">
          <div ngbDropdown>
            <button class="btn btn-info" type="button" id="dropdownMenuButton6" ngbDropdownToggle>
              Status
            </button>
            <div ngbDropdownMenu aria-labelledby="dropdownMenuButton6" >
              <h6 class="dropdown-header">Status</h6>
              <a class="dropdown-item" (click)="status=1;filterData()">Accepted</a>
              <a class="dropdown-item" (click)="status=0;filterData()">Pending</a>
              <a class="dropdown-item" (click)="status=2;filterData()">Declined</a>
            </div>
          </div>
	    </div>       

		<div class="row mt-5">
		  <div *ngFor = "let skill of show" class="col-lg-3 grid-margin stretch-card p-1  skill-card">
		  	<div class="card bg-gradient-danger card-img-holder text-white">
			  	<div class="card-body rounded p-0" [ngClass]="{'bg-gradient-success':skill.status==1,'bg-gradient-warning':skill.status==0,'bg-gradient-danger':skill.status == 2}">
			        <img src="assets/images/dashboard/circle.svg" class="card-img-absolute" alt="circle-image"/>
			        <p class="mt-3 ml-3"><b>Name</b>
	        				<button type="button" class="close float-right mr-3 "aria-label="Close" (click) = "remove($event,skill.skillId)">
								  	<span aria-hidden="true">&times;</span>
									</button>
			        </p>
			        <p class="card-description ml-3">{{skill.name}}</p>
			       	<p class="ml-3"><b>Status</b></p>
			        <p class="card-description ml-3">{{skill.status == 0 ? 'Pending' : (skill.status == 1 ? 'Accepted' : 'Declined')}}</p>
			    </div>
		  	</div>
		  </div>
		</div>

      </div>
    </div>
  </div>	
</div>


<!-- templates-->
<ng-template #createModalContent let-modal class="modal fade" id="exampleModal-2" aria-labelledby="exampleModalLabel-2">
    <div class="modal-content">
      <form class="forms-sample m-2">


        <div class="form-group">
          <label for="exampleInputUsername1"><b>Name</b></label>
          <input type="text" class="form-control" id="exampleInputUsername1" placeholder="name" name="createName" [(ngModel)] = "createName">
        </div>

				<form class="add-items d-flex mb-0 mt-2" [formGroup]="form" (ngSubmit)="addTodo()">

			    <select class="form-control todo-list-input" id="exampleFormControlSelect1" formControlName="categoryToAdd">
				      <option *ngFor="let cat of category" [value]="cat.categoryId">{{cat.name}}</option>
				  </select>

				  <button class="add btn btn-primary todo-list-add-btn py-2" type="submit" [disabled]="form.invalid">Add</button>
				</form>

				<div class="list-wrapper pt-2">
				  <ul class="d-flex flex-column-reverse todo-list todo-list-custom">
				    <li *ngFor="let todo of todoArray">
				      <div class="form-check form-check-flat">
				        <label class="form-check-label"><b>
				          {{todo.name}}</b>
				          <i class="input-helper"></i>
				        </label>
				      </div>
				      <i class="remove mdi mdi-close" (click)="removeTodoItem(todo)"></i>
				    </li>
				  </ul>
				</div>

   
      <button type="submit" class="btn btn-gradient-dark btn-fw mr-2 btn-icon-text mt-2" data-dismiss="modal" (click)="saveSkill();modal.close()">
    		<i class="mdi mdi-content-save btn-icon-prepend"></i>
      	Save
      </button>
      <button class="btn btn-light mt-2" data-dismiss="modal" (click)="modal.close()">Cancel</button>
    </form>	
    </div>
 </ng-template> 
 